var dn=Object.defineProperty;var xt=e=>{throw TypeError(e)};var hn=(e,t,n)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yt=(e,t,n)=>hn(e,typeof t!="symbol"?t+"":t,n),Je=(e,t,n)=>t.has(e)||xt("Cannot "+n);var re=(e,t,n)=>(Je(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?xt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ze=(e,t,n,r)=>(Je(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bt=(e,t,n)=>(Je(e,t,"access private method"),n);import{b as ie,a as H,n as K,d as De}from"../chunks/C0K50EjQ.js";import{a0 as gn,o as pn,am as Yt,y as Ke,q as ee,a3 as mn,v as vn,g as f,I as ke,w as xn,x as wt,z as Xe,D as Me,a6 as yn,A as Wt,B as Ut,C as bn,an as et,aa as Qt,ah as wn,$ as _t,ao as ft,ap as Mt,aq as ut,R as B,ar as kt,Z as _n,as as Mn,at as kn,a9 as Nn,au as An,av as Sn,aw as Cn,a2 as En,ax as Pn,ay as Tn,az as Rn,aA as In,af as $n,b as jn,p as ye,aB as U,aC as Ue,t as q,j as be,k as I,m as T,Q as F,s as O,i as le,e as he,aj as $e,aD as On,n as tt}from"../chunks/Bqy8CEuE.js";import{s as ge,a as Hn}from"../chunks/D6Vwiwvy.js";import{p as Q,i as ve}from"../chunks/DWWEkl-T.js";import{o as Ln}from"../chunks/CW-MugsW.js";import"../chunks/Bve727-D.js";import{i as dt}from"../chunks/CZxVD4uD.js";function J(e,t){return t}function Dn(e,t,n,r){for(var a=[],i=t.length,o=0;o<i;o++)kn(t[o].e,a,!0);var l=i>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Nn(c),c.append(n),r.clear(),oe(e,t[0].prev,t[i-1].next)}An(a,()=>{for(var s=0;s<i;s++){var d=t[s];l||(r.delete(d.k),oe(e,d.prev,d.next)),Sn(d.e,!l)}})}function Z(e,t,n,r,a,i=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&Yt)!==0;if(c){var s=e;o=ee?Ke(mn(s)):s.appendChild(gn())}ee&&vn();var d=null,h=!1,u=ke(()=>{var M=n();return _n(M)?M:M==null?[]:Qt(M)});pn(()=>{var M=f(u),v=M.length;if(h&&v===0)return;h=v===0;let R=!1;if(ee){var _=o.data===xn;_!==(v===0)&&(o=wt(),Ke(o),Xe(!1),R=!0)}if(ee){for(var w=null,k,C=0;C<v;C++){if(Me.nodeType===8&&Me.data===yn){o=Me,R=!0,Xe(!1);break}var A=M[C],y=r(A,C);k=Jt(Me,l,w,null,A,y,C,a,t,n),l.items.set(y,k),w=k}v>0&&Ke(wt())}ee||Fn(M,l,o,a,t,r,n),i!==null&&(v===0?d?Wt(d):d=Ut(()=>i(o)):d!==null&&bn(d,()=>{d=null})),R&&Xe(!0),f(u)}),ee&&(o=Me)}function Fn(e,t,n,r,a,i,o){var E,j,D,G;var l=(a&Mn)!==0,c=(a&(ft|ut))!==0,s=e.length,d=t.items,h=t.first,u=h,M,v=null,R,_=[],w=[],k,C,A,y;if(l)for(y=0;y<s;y+=1)k=e[y],C=i(k,y),A=d.get(C),A!==void 0&&((E=A.a)==null||E.measure(),(R??(R=new Set)).add(A));for(y=0;y<s;y+=1){if(k=e[y],C=i(k,y),A=d.get(C),A===void 0){var $=u?u.e.nodes_start:n;v=Jt($,t,v,v===null?t.first:v.next,k,C,y,r,a,o),d.set(C,v),_=[],w=[],u=v.next;continue}if(c&&Vn(A,k,y,a),(A.e.f&et)!==0&&(Wt(A.e),l&&((j=A.a)==null||j.unfix(),(R??(R=new Set)).delete(A))),A!==u){if(M!==void 0&&M.has(A)){if(_.length<w.length){var x=w[0],P;v=x.prev;var S=_[0],g=_[_.length-1];for(P=0;P<_.length;P+=1)Nt(_[P],x,n);for(P=0;P<w.length;P+=1)M.delete(w[P]);oe(t,S.prev,g.next),oe(t,v,S),oe(t,g,x),u=x,v=g,y-=1,_=[],w=[]}else M.delete(A),Nt(A,u,n),oe(t,A.prev,A.next),oe(t,A,v===null?t.first:v.next),oe(t,v,A),v=A;continue}for(_=[],w=[];u!==null&&u.k!==C;)(u.e.f&et)===0&&(M??(M=new Set)).add(u),w.push(u),u=u.next;if(u===null)continue;A=u}_.push(A),v=A,u=A.next}if(u!==null||M!==void 0){for(var p=M===void 0?[]:Qt(M);u!==null;)(u.e.f&et)===0&&p.push(u),u=u.next;var b=p.length;if(b>0){var N=(a&Yt)!==0&&s===0?n:null;if(l){for(y=0;y<b;y+=1)(D=p[y].a)==null||D.measure();for(y=0;y<b;y+=1)(G=p[y].a)==null||G.fix()}Dn(t,p,N,d)}}l&&wn(()=>{var L;if(R!==void 0)for(A of R)(L=A.a)==null||L.apply()}),_t.first=t.first&&t.first.e,_t.last=v&&v.e}function Vn(e,t,n,r){(r&ft)!==0&&Mt(e.v,t),(r&ut)!==0?Mt(e.i,n):e.i=n}function Jt(e,t,n,r,a,i,o,l,c,s){var d=(c&ft)!==0,h=(c&Cn)===0,u=d?h?B(a):kt(a):a,M=(c&ut)===0?o:kt(o),v={i:M,v:u,k:i,a:null,e:null,prev:n,next:r};try{return v.e=Ut(()=>l(e,u,M,s),ee),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?t.first=v:(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function Nt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var o=En(i);a.before(i),i=o}}function oe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function qn(e,t){return e==null?null:String(e)}function Ne(e,t,n,r){var a=e.__style;if(ee||a!==t){var i=qn(t);(!ee||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return r}const Gn=Symbol("is custom element"),Bn=Symbol("is html");function m(e,t,n,r){var a=zn(e);ee&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=n)&&(t==="loading"&&(e[Tn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Yn(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function zn(e){return e.__attributes??(e.__attributes={[Gn]:e.nodeName.includes("-"),[Bn]:e.namespaceURI===Pn})}var At=new Map;function Yn(e){var t=At.get(e.nodeName);if(t)return t;At.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=In(r);for(var i in n)n[i].set&&t.push(i);r=Rn(r)}return t}var se,me,Pe,Ye,Zt;const We=class We{constructor(t){_e(this,Ye);_e(this,se,new WeakMap);_e(this,me);_e(this,Pe);Ze(this,Pe,t)}observe(t,n){var r=re(this,se).get(t)||new Set;return r.add(n),re(this,se).set(t,r),bt(this,Ye,Zt).call(this).observe(t,re(this,Pe)),()=>{var a=re(this,se).get(t);a.delete(n),a.size===0&&(re(this,se).delete(t),re(this,me).unobserve(t))}}};se=new WeakMap,me=new WeakMap,Pe=new WeakMap,Ye=new WeakSet,Zt=function(){return re(this,me)??Ze(this,me,new ResizeObserver(t=>{for(var n of t){We.entries.set(n.target,n);for(var r of re(this,se).get(n.target)||[])r(n)}}))},yt(We,"entries",new WeakMap);let it=We;var Wn=new it({box:"border-box"});function Un(e,t,n){var r=Wn.observe(e,()=>n(e[t]));$n(()=>(jn(()=>n(e[t])),r))}const Qn=!0,Oa=Object.freeze(Object.defineProperty({__proto__:null,prerender:Qn},Symbol.toStringTag,{value:"Module"})),Jn=""+new URL("../assets/top-logo-full.DFUV62OR.svg",import.meta.url).href;var Zn=ie('<div id="bar" class="svelte-149k9m0"><div id="logo" class="svelte-149k9m0"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-149k9m0"><img alt="School of Cities" class="svelte-149k9m0"></a></div></div>');function Kn(e,t){ye(t,!1);let n=B(),r=B(262);U(()=>f(n),()=>{f(n)<500?F(r,262):F(r,383)}),Ue();var a=Zn(),i=I(a),o=I(i),l=I(o);m(l,"src",Jn),T(o),T(i),T(a),q(()=>Ne(i,`width: ${f(r)??""}px`)),Un(a,"clientWidth",c=>F(n,c)),H(e,a),be()}function Le(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(e){let t,n,r;e.length!==2?(t=Le,n=(l,c)=>Le(e(l),c),r=(l,c)=>e(l)-c):(t=e===Le||e===Xn?e:er,n=e,r=e);function a(l,c,s=0,d=l.length){if(s<d){if(t(c,c)!==0)return d;do{const h=s+d>>>1;n(l[h],c)<0?s=h+1:d=h}while(s<d)}return s}function i(l,c,s=0,d=l.length){if(s<d){if(t(c,c)!==0)return d;do{const h=s+d>>>1;n(l[h],c)<=0?s=h+1:d=h}while(s<d)}return s}function o(l,c,s=0,d=l.length){const h=a(l,c,s,d-1);return h>s&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function er(){return 0}function tr(e){return e===null?NaN:+e}const nr=Kt(Le),rr=nr.right;Kt(tr).center;class St extends Map{constructor(t,n=or){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Ct(this,t))}has(t){return super.has(Ct(this,t))}set(t,n){return super.set(ar(this,t),n)}delete(t){return super.delete(ir(this,t))}}function Ct({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ar({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ir({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function or(e){return e!==null&&typeof e=="object"?e.valueOf():e}const sr=Math.sqrt(50),lr=Math.sqrt(10),cr=Math.sqrt(2);function Fe(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=sr?10:i>=lr?5:i>=cr?2:1;let l,c,s;return a<0?(s=Math.pow(10,-a)/o,l=Math.round(e*s),c=Math.round(t*s),l/s<e&&++l,c/s>t&&--c,s=-s):(s=Math.pow(10,a)*o,l=Math.round(e/s),c=Math.round(t/s),l*s<e&&++l,c*s>t&&--c),c<l&&.5<=n&&n<2?Fe(e,t,n*2):[l,c,s]}function fr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Fe(t,e,n):Fe(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let s=0;s<l;++s)c[s]=(i-s)/-o;else for(let s=0;s<l;++s)c[s]=(i-s)*o;else if(o<0)for(let s=0;s<l;++s)c[s]=(a+s)/-o;else for(let s=0;s<l;++s)c[s]=(a+s)*o;return c}function ot(e,t,n){return t=+t,e=+e,n=+n,Fe(e,t,n)[2]}function ur(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?ot(t,e,n):ot(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function dr(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ht(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Et=Symbol("implicit");function Xt(){var e=new St,t=[],n=[],r=Et;function a(i){let o=e.get(i);if(o===void 0){if(r!==Et)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new St;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Xt(t,n).unknown(r)},ht.apply(a,arguments),a}function en(){var e=Xt().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,s=0,d=.5;delete e.unknown;function h(){var u=t().length,M=a<r,v=M?a:r,R=M?r:a;i=(R-v)/Math.max(1,u-c+s*2),l&&(i=Math.floor(i)),v+=(R-v-i*(u-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var _=dr(u).map(function(w){return v+i*w});return n(M?_.reverse():_)}return e.domain=function(u){return arguments.length?(t(u),h()):t()},e.range=function(u){return arguments.length?([r,a]=u,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(u){return[r,a]=u,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(u){return arguments.length?(l=!!u,h()):l},e.padding=function(u){return arguments.length?(c=Math.min(1,s=+u),h()):c},e.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),h()):c},e.paddingOuter=function(u){return arguments.length?(s=+u,h()):s},e.align=function(u){return arguments.length?(d=Math.max(0,Math.min(1,u)),h()):d},e.copy=function(){return en(t(),[r,a]).round(l).paddingInner(c).paddingOuter(s).align(d)},ht.apply(h(),arguments)}function tn(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tn(t())},e}function hr(){return tn(en.apply(null,arguments).paddingInner(1))}function gt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Te(){}var Ae=.7,Ve=1/Ae,pe="\\s*([+-]?\\d+)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gr=/^#([0-9a-f]{3,8})$/,pr=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),mr=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),vr=new RegExp(`^rgba\\(${pe},${pe},${pe},${Se}\\)$`),xr=new RegExp(`^rgba\\(${te},${te},${te},${Se}\\)$`),yr=new RegExp(`^hsl\\(${Se},${te},${te}\\)$`),br=new RegExp(`^hsla\\(${Se},${te},${te},${Se}\\)$`),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gt(Te,Ce,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHex8:wr,formatHsl:_r,formatRgb:Rt,toString:Rt});function Tt(){return this.rgb().formatHex()}function wr(){return this.rgb().formatHex8()}function _r(){return rn(this).formatHsl()}function Rt(){return this.rgb().formatRgb()}function Ce(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?It(t):n===3?new z(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?je(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?je(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pr.exec(e))?new z(t[1],t[2],t[3],1):(t=mr.exec(e))?new z(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vr.exec(e))?je(t[1],t[2],t[3],t[4]):(t=xr.exec(e))?je(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yr.exec(e))?Ot(t[1],t[2]/100,t[3]/100,1):(t=br.exec(e))?Ot(t[1],t[2]/100,t[3]/100,t[4]):Pt.hasOwnProperty(e)?It(Pt[e]):e==="transparent"?new z(NaN,NaN,NaN,0):null}function It(e){return new z(e>>16&255,e>>8&255,e&255,1)}function je(e,t,n,r){return r<=0&&(e=t=n=NaN),new z(e,t,n,r)}function Mr(e){return e instanceof Te||(e=Ce(e)),e?(e=e.rgb(),new z(e.r,e.g,e.b,e.opacity)):new z}function st(e,t,n,r){return arguments.length===1?Mr(e):new z(e,t,n,r??1)}function z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gt(z,st,nn(Te,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ae:Math.pow(Ae,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(ue(this.r),ue(this.g),ue(this.b),qe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$t,formatHex:$t,formatHex8:kr,formatRgb:jt,toString:jt}));function $t(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function kr(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function jt(){const e=qe(this.opacity);return`${e===1?"rgb(":"rgba("}${ue(this.r)}, ${ue(this.g)}, ${ue(this.b)}${e===1?")":`, ${e})`}`}function qe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ue(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fe(e){return e=ue(e),(e<16?"0":"")+e.toString(16)}function Ot(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new X(e,t,n,r)}function rn(e){if(e instanceof X)return new X(e.h,e.s,e.l,e.opacity);if(e instanceof Te||(e=Ce(e)),!e)return new X;if(e instanceof X)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new X(o,l,c,e.opacity)}function Nr(e,t,n,r){return arguments.length===1?rn(e):new X(e,t,n,r??1)}function X(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gt(X,Nr,nn(Te,{brighter(e){return e=e==null?Ve:Math.pow(Ve,e),new X(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ae:Math.pow(Ae,e),new X(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new z(nt(e>=240?e-240:e+120,a,r),nt(e,a,r),nt(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new X(Ht(this.h),Oe(this.s),Oe(this.l),qe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qe(this.opacity);return`${e===1?"hsl(":"hsla("}${Ht(this.h)}, ${Oe(this.s)*100}%, ${Oe(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ht(e){return e=(e||0)%360,e<0?e+360:e}function Oe(e){return Math.max(0,Math.min(1,e||0))}function nt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pt=e=>()=>e;function Ar(e,t){return function(n){return e+n*t}}function Sr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cr(e){return(e=+e)==1?an:function(t,n){return n-t?Sr(t,n,e):pt(isNaN(t)?n:t)}}function an(e,t){var n=t-e;return n?Ar(e,n):pt(isNaN(e)?t:e)}const Lt=function e(t){var n=Cr(t);function r(a,i){var o=n((a=st(a)).r,(i=st(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),s=an(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=s(d),a+""}}return r.gamma=e,r}(1);function Er(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Pr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=mt(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function Rr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ge(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ir(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=mt(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rt=new RegExp(lt.source,"g");function $r(e){return function(){return e}}function jr(e){return function(t){return e(t)+""}}function Or(e,t){var n=lt.lastIndex=rt.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=lt.exec(e))&&(a=rt.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ge(r,a)})),n=rt.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jr(c[0].x):$r(t):(t=c.length,function(s){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(s);return l.join("")})}function mt(e,t){var n=typeof t,r;return t==null||n==="boolean"?pt(t):(n==="number"?Ge:n==="string"?(r=Ce(t))?(t=r,Lt):Or:t instanceof Ce?Lt:t instanceof Date?Rr:Pr(t)?Er:Array.isArray(t)?Tr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ir:Ge)(e,t)}function Hr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Lr(e){return function(){return e}}function Dr(e){return+e}var Dt=[0,1];function de(e){return e}function ct(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Lr(isNaN(t)?NaN:.5)}function Fr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Vr(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=ct(a,r),i=n(o,i)):(r=ct(r,a),i=n(i,o)),function(l){return i(r(l))}}function qr(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=ct(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=rr(e,l,1,r)-1;return i[c](a[c](l))}}function Gr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Br(){var e=Dt,t=Dt,n=mt,r,a,i,o=de,l,c,s;function d(){var u=Math.min(e.length,t.length);return o!==de&&(o=Fr(e[0],e[u-1])),l=u>2?qr:Vr,c=s=null,h}function h(u){return u==null||isNaN(u=+u)?i:(c||(c=l(e.map(r),t,n)))(r(o(u)))}return h.invert=function(u){return o(a((s||(s=l(t,e.map(r),Ge)))(u)))},h.domain=function(u){return arguments.length?(e=Array.from(u,Dr),d()):e.slice()},h.range=function(u){return arguments.length?(t=Array.from(u),d()):t.slice()},h.rangeRound=function(u){return t=Array.from(u),n=Hr,d()},h.clamp=function(u){return arguments.length?(o=u?!0:de,d()):o!==de},h.interpolate=function(u){return arguments.length?(n=u,d()):n},h.unknown=function(u){return arguments.length?(i=u,h):i},function(u,M){return r=u,a=M,d()}}function zr(){return Br()(de,de)}function Yr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Be(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xe(e){return e=Be(Math.abs(e)),e?e[1]:NaN}function Wr(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ur(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ze(e){if(!(t=Qr.exec(e)))throw new Error("invalid format: "+e);var t;return new vt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ze.prototype=vt.prototype;function vt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jr(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var on;function Zr(e,t){var n=Be(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(on=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Be(e,Math.max(0,t+i-1))[0]}function Ft(e,t){var n=Be(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Vt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Yr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ft(e*100,t),r:Ft,s:Zr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qt(e){return e}var Gt=Array.prototype.map,Bt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kr(e){var t=e.grouping===void 0||e.thousands===void 0?qt:Wr(Gt.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qt:Ur(Gt.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function s(h){h=ze(h);var u=h.fill,M=h.align,v=h.sign,R=h.symbol,_=h.zero,w=h.width,k=h.comma,C=h.precision,A=h.trim,y=h.type;y==="n"?(k=!0,y="g"):Vt[y]||(C===void 0&&(C=12),A=!0,y="g"),(_||u==="0"&&M==="=")&&(_=!0,u="0",M="=");var $=R==="$"?n:R==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x=R==="$"?r:/[%p]/.test(y)?o:"",P=Vt[y],S=/[defgprs%]/.test(y);C=C===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function g(p){var b=$,N=x,E,j,D;if(y==="c")N=P(p)+N,p="";else{p=+p;var G=p<0||1/p<0;if(p=isNaN(p)?c:P(Math.abs(p),C),A&&(p=Jr(p)),G&&+p==0&&v!=="+"&&(G=!1),b=(G?v==="("?v:l:v==="-"||v==="("?"":v)+b,N=(y==="s"?Bt[8+on/3]:"")+N+(G&&v==="("?")":""),S){for(E=-1,j=p.length;++E<j;)if(D=p.charCodeAt(E),48>D||D>57){N=(D===46?a+p.slice(E+1):p.slice(E))+N,p=p.slice(0,E);break}}}k&&!_&&(p=t(p,1/0));var L=b.length+p.length+N.length,V=L<w?new Array(w-L+1).join(u):"";switch(k&&_&&(p=t(V+p,V.length?w-N.length:1/0),V=""),M){case"<":p=b+p+N+V;break;case"=":p=b+V+p+N;break;case"^":p=V.slice(0,L=V.length>>1)+b+p+N+V.slice(L);break;default:p=V+b+p+N;break}return i(p)}return g.toString=function(){return h+""},g}function d(h,u){var M=s((h=ze(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(xe(u)/3)))*3,R=Math.pow(10,-v),_=Bt[8+v/3];return function(w){return M(R*w)+_}}return{format:s,formatPrefix:d}}var He,sn,ln;Xr({thousands:",",grouping:[3],currency:["$",""]});function Xr(e){return He=Kr(e),sn=He.format,ln=He.formatPrefix,He}function ea(e){return Math.max(0,-xe(Math.abs(e)))}function ta(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xe(t)/3)))*3-xe(Math.abs(e)))}function na(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xe(t)-xe(e))+1}function ra(e,t,n,r){var a=ur(e,t,n),i;switch(r=ze(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=ta(a,o))&&(r.precision=i),ln(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=na(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ea(a))&&(r.precision=i-(r.type==="%")*2);break}}return sn(r)}function aa(e){var t=e.domain;return e.ticks=function(n){var r=t();return fr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return ra(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,s,d=10;for(l<o&&(s=o,o=l,l=s,s=a,a=i,i=s);d-- >0;){if(s=ot(o,l,n),s===c)return r[a]=o,r[i]=l,t(r);if(s>0)o=Math.floor(o/s)*s,l=Math.ceil(l/s)*s;else if(s<0)o=Math.ceil(o*s)/s,l=Math.floor(l*s)/s;else break;c=s}return e},e}function cn(){var e=zr();return e.copy=function(){return Gr(e,cn())},ht.apply(e,arguments),aa(e)}const Ee=["lib","con","ndp","bloc","grn","ppc","oth"],ae={lib:"#DC4633",con:"#1E3765",ndp:"#EBA00F",bloc:"#6FC7EA",grn:"#00A189",ppc:"#6D247A",oth:"#D3D3D3"},fn={lib:"LIB",con:"CON",ndp:"NDP",bloc:"BQ",grn:"GRN",ppc:"PPL",oth:"Other"};var ia=K('<line stroke="#ececec" stroke-width="1"></line>'),oa=K('<line stroke-width="1.5"></line><circle></circle><circle></circle>',1),sa=K('<text class="party-label svelte-wmhrod" font-size="14px" font-weight="bold" dominant-baseline="middle"> </text>'),la=ie('<div class="slope-graph svelte-wmhrod"><svg class="slope-svg svelte-wmhrod"><g transform="translate(0,0)"><line stroke="black" stroke-width="1"></line><text class="year-label svelte-wmhrod" text-anchor="start" font-size="13px">2021</text><text class="year-label svelte-wmhrod" text-anchor="end" font-size="13px">2025</text><!><!><!></g></svg></div>');function ca(e,t){ye(t,!0);let n=Q(t,"partyDisplay",19,()=>({lib:!0,con:!0,ndp:!0,bloc:!1,grn:!1,ppc:!1,oth:!1}));const r=220,a=180,i={top:10,right:100,bottom:30,left:10},o=r-i.left-i.right,l=a-i.top-i.bottom,c=hr().domain(["2021","2025"]).range([0,o]).padding(0),s=cn().domain([0,70]).range([l,0]);function d(){let x=Ee.filter(g=>n()[g]).map(g=>({party:g,y:s(t.partyVotes25[g]),text:`${fn[g]} ${(Math.round(t.partyVotes25[g]*10)/10).toFixed(1)}%`}));x.sort((g,p)=>g.y-p.y);let P=[],S=[x[0]];for(let g=1;g<x.length;g++){S[S.length-1];const p=x[g];S.some(N=>Math.abs(p.y-N.y)<20)?S.push(p):(P.push(S),S=[p])}P.push(S);for(const g of P){if(g.length<=1)continue;const p=(20*g.length-5)/2,b=g[g.length-1].y-g[0].y;if(p>b){const N=p-b,E=g[0].y-N/2,j=g[g.length-1].y+N/2,D=Math.max(0,E),G=Math.min(l,j),L=Math.min(E,D),ne=(Math.max(j,G)-L-b+b)/(g.length-1);for(let W=0;W<g.length;W++)g[W].y=L+W*ne}}return x}const h=d();var u=la();Ne(u,"width: 220px; height: 180px;");var M=I(u);m(M,"width",r),m(M,"height",a);var v=I(M),R=I(v);m(R,"y1",l),m(R,"y2",l);var _=O(R),w=O(_),k=O(w);Z(k,16,()=>[10,20,30,40,50,60],J,(y,$)=>{var x=ia();q((P,S,g,p)=>{m(x,"x1",P),m(x,"y1",S),m(x,"x2",g),m(x,"y2",p)},[()=>c("2021"),()=>s($),()=>c("2025"),()=>s($)]),H(y,x)});var C=O(k);Z(C,17,()=>Ee,J,(y,$)=>{var x=De(),P=le(x);{var S=g=>{var p=oa(),b=le(p),N=O(b);m(N,"r",4);var E=O(N);m(E,"r",4),q((j,D,G,L,V,Y,ne,W)=>{m(b,"x1",j),m(b,"y1",D),m(b,"x2",G),m(b,"y2",L),m(b,"stroke",ae[f($)]),m(N,"cx",V),m(N,"cy",Y),m(N,"fill",ae[f($)]),m(E,"cx",ne),m(E,"cy",W),m(E,"fill",ae[f($)])},[()=>c("2021"),()=>s(t.partyVotes21[f($)]),()=>c("2025"),()=>s(t.partyVotes25[f($)]),()=>c("2021"),()=>s(t.partyVotes21[f($)]),()=>c("2025"),()=>s(t.partyVotes25[f($)])]),H(g,p)};ve(P,g=>{n()[f($)]&&g(S)})}H(y,x)});var A=O(C);Z(A,17,()=>h,J,(y,$)=>{let x=()=>f($).party,P=()=>f($).y,S=()=>f($).text;var g=sa(),p=I(g,!0);T(g),q(b=>{m(g,"x",b),m(g,"y",P()),m(g,"fill",ae[x()]),ge(p,S())},[()=>c("2025")+10]),H(y,g)}),T(v),T(M),T(u),q((y,$,x,P)=>{m(R,"x1",y),m(R,"x2",$),m(_,"x",x),m(_,"y",l+i.bottom/2),m(w,"x",P),m(w,"y",l+i.bottom/2)},[()=>c("2021"),()=>c("2025"),()=>c("2021"),()=>c("2025")]),H(e,u),be()}var fa=K("<line></line>"),ua=K("<rect></rect><g><defs><clipPath><rect></rect></clipPath></defs><g></g></g>",1),da=K("<rect></rect><!>",1),ha=ie('<div class="party-total svelte-khqrjg"><span class="party-color-box svelte-khqrjg"><span class="party-color svelte-khqrjg"></span></span> <span class="party-number svelte-khqrjg"> </span> <span class="party-number-change svelte-khqrjg"> </span> <span class="party-name svelte-khqrjg"> </span></div>'),ga=ie('<div class="waffle-container svelte-khqrjg"><div class="waffle-graph svelte-khqrjg"><svg class="waffle-svg svelte-khqrjg"></svg></div> <div class="party-totals svelte-khqrjg"></div></div>');function pa(e,t){ye(t,!1);const n=B(),r=B(),a=B(),i=B(),o=B(),l=B(),c=B();let s=Q(t,"partySeats",24,()=>[{prevParty:"lib",curParty:"lib",isFlipped:!1},{prevParty:"lib",curParty:"lib",isFlipped:!1},{prevParty:"con",curParty:"lib",isFlipped:!0},{prevParty:"ndp",curParty:"lib",isFlipped:!0},{prevParty:"con",curParty:"con",isFlipped:!1},{prevParty:"ndp",curParty:"ndp",isFlipped:!1}]);const d=16,h=1,u=6,M=.8,v=2,R=6,_=.5,w=d*M,k=(d-w)/2,C=A(d);function A(S){const g=Math.ceil(S*1.5/R),p=[];for(let b=-1;b<=g;b++){const N=b*R;p.push({x1:N-S,y1:0,x2:N,y2:S})}return p}U(()=>he(s()),()=>{F(n,s().length)}),U(()=>f(n),()=>{F(r,Math.ceil(f(n)/u))}),U(()=>{},()=>{F(a,u*(d+h)+h)}),U(()=>f(r),()=>{F(i,f(r)*(d+h)+h)}),U(()=>he(s()),()=>{F(o,Ee.map(S=>{const g=s().filter(E=>E.curParty===S&&E.isFlipped).length,p=s().filter(E=>E.prevParty===S&&E.isFlipped).length,b=g-p;let N;return b>0?N="+":b<0?N="–":N="",{party:S,total:s().filter(E=>E.curParty===S).length,gained:g,lost:p,net:b,sign:N}}))}),U(()=>f(o),()=>{f(o).sort((S,g)=>S.total<g.total)}),U(()=>(he(s()),f(o)),()=>{F(l,[...s()].sort((S,g)=>{var N,E;const p=((N=f(o).find(j=>j.party===S.curParty))==null?void 0:N.total)||0,b=((E=f(o).find(j=>j.party===g.curParty))==null?void 0:E.total)||0;return p!==b?b-p:S.curParty!==g.curParty?S.curParty.localeCompare(g.curParty):(S.isFlipped?1:0)-(g.isFlipped?1:0)}))}),U(()=>(f(n),f(r),f(l)),()=>{F(c,Array.from({length:f(n)},(S,g)=>{const p=f(n)-1-g,b=f(r)-1-Math.floor(p/u);return{x:p%u*(d+h)+h,y:b*(d+h)+h,seat:f(l)[p],index:g}}))}),Ue(),dt();var y=ga(),$=I(y),x=I($);Z(x,5,()=>f(c),J,(S,g)=>{var p=da();const b=ke(()=>f(g).seat),N=ke(()=>ae[f(b).curParty]),E=ke(()=>ae[f(b).prevParty]);var j=le(p);m(j,"width",d),m(j,"height",d);var D=O(j);{var G=L=>{var V=ua(),Y=le(V);m(Y,"width",w),m(Y,"height",w);var ne=O(Y),W=I(ne),we=I(W),Re=I(we);m(Re,"width",d),m(Re,"height",d),T(we),T(W);var Qe=O(W);Z(Qe,5,()=>C,J,(un,Ie)=>{var ce=fa();m(ce,"stroke-width",v),q(()=>{m(ce,"x1",f(Ie).x1-_),m(ce,"y1",f(Ie).y1-_),m(ce,"x2",f(Ie).x2-_),m(ce,"y2",f(Ie).y2-_),m(ce,"stroke",f(N))}),H(un,ce)}),T(Qe),T(ne),q(()=>{m(Y,"x",f(g).x+k),m(Y,"y",f(g).y+k),m(Y,"fill",f(E)),m(ne,"transform",`translate(${f(g).x},${f(g).y})`),m(we,"id",`clip-${f(g).index}`),m(Qe,"clip-path",`url(#clip-${f(g).index})`)}),H(L,V)};ve(D,L=>{f(b).isFlipped&&L(G)})}q(()=>{m(j,"x",f(g).x),m(j,"y",f(g).y),m(j,"fill",f(N))}),H(S,p)}),T(x),T($);var P=O($,2);Z(P,5,()=>f(o),J,(S,g)=>{var p=De(),b=le(p);{var N=E=>{var j=ha(),D=I(j),G=I(D);T(D);var L=O(D,2),V=I(L,!0);T(L);var Y=O(L,2),ne=I(Y);T(Y);var W=O(Y,2),we=I(W,!0);T(W),T(j),q(Re=>{Ne(G,`background-color: ${ae[f(g).party]??""};`),ge(V,f(g).total),ge(ne,`(${f(g).sign??""}${Re??""})`),ge(we,fn[f(g).party])},[()=>Math.abs(f(g).net)],ke),H(E,j)};ve(b,E=>{(f(g).total>0||f(g).net!==0)&&E(N)})}H(S,p)}),T(P),T(y),q(()=>{m(x,"width",f(a)),m(x,"height",f(i)),Ne(P,`max-width: ${f(a)??""}px`)}),H(e,y),be()}var ma=ie('<p class="svelte-1ddus0n"> </p>'),va=ie('<div class="results-panel svelte-1ddus0n"><div class="panel-header svelte-1ddus0n"><h4 class="svelte-1ddus0n"> </h4> <!></div> <div class="graphs-container svelte-1ddus0n"><!> <!></div></div>');function at(e,t){let n=Q(t,"cityName",8),r=Q(t,"text",8),a=Q(t,"partyVotes21",8),i=Q(t,"partyVotes25",8),o=Q(t,"partySeats",8);const l=["Greater Montreal","Greater Montreal (suburbs only)","Island of Montreal","Quebec City"];let c=B({lib:!0,con:!0,ndp:!0,bloc:!1,grn:!1,ppc:!1,oth:!1});l.includes(n())&&F(c,{lib:!0,con:!0,ndp:!0,bloc:!0,grn:!1,ppc:!1,oth:!1});var s=va(),d=I(s),h=I(d),u=I(h,!0);T(h);var M=O(h,2);{var v=k=>{var C=ma(),A=I(C,!0);T(C),q(()=>ge(A,r())),H(k,C)};ve(M,k=>{r()&&k(v)})}T(d);var R=O(d,2),_=I(R);ca(_,{get partyVotes21(){return a()},get partyVotes25(){return i()},get partyDisplay(){return f(c)}});var w=O(_,2);pa(w,{get partySeats(){return o()}}),T(R),T(s),q(()=>ge(u,n())),H(e,s)}var xa=K('<rect y="10" height="10"></rect>'),ya=K('<svg width="100%" height="10" viewBox="0 0 100 20" preserveAspectRatio="none"></svg>');function zt(e,t){ye(t,!1);const n=B();let r=Q(t,"year",8,2025);const a={colors:ae,order:Ee},i={2025:{lib:43.7,con:41.3,ndp:6.3,bloc:6.3,grn:1.3,ppc:.5,oth:.6},2021:{lib:33.1,con:34.3,ndp:16,bloc:7.6,grn:2.3,ppc:4.9,oth:1.8}};U(()=>he(r()),()=>{F(n,(()=>{const l=i[r()]||{};let c=0;return a.order.filter(s=>l[s]>0).map(s=>{const d=l[s],h={party:s,percent:d,color:a.colors[s],start:c};return c+=d,h})})())}),Ue(),dt();var o=ya();Z(o,5,()=>f(n),J,(l,c)=>{var s=xa();q(()=>{m(s,"x",f(c).start),m(s,"width",f(c).percent),m(s,"fill",f(c).color)}),H(l,s)}),T(o),H(e,o),be()}var ba=K('<rect height="5"></rect>'),wa=K('<rect y="5" height="5"></rect>'),_a=K('<polygon stroke="#ffffff" stroke-width="0.0" opacity="0.2"></polygon>'),Ma=K('<svg width="100%" preserveAspectRatio="none"><!><!><!></svg>');function ka(e,t){ye(t,!1);const n=B(),r=B(),a=B();Q(t,"year",8,2025);const i={colors:ae,order:Ee},o={2025:{lib:43.7,con:41.3,ndp:6.3,bloc:6.3,grn:1.3,ppc:.5,oth:.6},2021:{lib:33.1,con:34.3,ndp:16,bloc:7.6,grn:2.3,ppc:4.9,oth:1.8}};let l=Q(t,"year1",8,2025),c=Q(t,"year2",8,2021),s=Q(t,"height",8,30);function d(_){const w=o[_]||{};let k=0;return i.order.filter(C=>w[C]>0).map(C=>{const A=w[C],y={party:C,percent:A,color:i.colors[C],start:k,end:k+A};return k+=A,y})}function h(){return f(n).map(_=>{const w=f(r).find(k=>k.party===_.party);return w?{seg1:_,seg2:w,color:_.color}:null}).filter(Boolean)}U(()=>he(l()),()=>{F(n,d(l()))}),U(()=>he(c()),()=>{F(r,d(c()))}),U(()=>{},()=>{F(a,h())}),Ue(),dt();var u=Ma(),M=I(u);Z(M,1,()=>f(n),J,(_,w)=>{var k=ba();q(()=>{m(k,"x",f(w).start),m(k,"y",s()-10),m(k,"width",f(w).percent),m(k,"fill",f(w).color)}),H(_,k)});var v=O(M);Z(v,1,()=>f(r),J,(_,w)=>{var k=wa();q(()=>{m(k,"x",f(w).start),m(k,"width",f(w).percent),m(k,"fill",f(w).color)}),H(_,k)});var R=O(v);Z(R,1,()=>f(a),J,(_,w)=>{var k=_a();q(()=>{m(k,"points",`
                ${f(w).seg1.start??""},${s()-10}
                ${f(w).seg1.end??""},${s()-10}
                ${f(w).seg2.end??""},10
                ${f(w).seg2.start??""},10
            `),m(k,"fill",f(w).color)}),H(_,k)}),T(u),q(()=>{m(u,"height",s()),m(u,"viewBox",`0 0 100 ${s()??""}`)}),H(e,u),be()}var Na=ie('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"> <meta name="description" content=""> <meta name="author" content="Aniket Kali, Jeff Allen"> <meta property="og:title" content="Canada Votes 2025: Cities &amp; Suburbs"> <meta property="og:description" content="Charting changes in vote share and seats in major Canadian cities and suburbs"> <meta property="og:type" content="website"> <meta property="og:url" content="https://schoolofcities.github.io/canada-election-2025"> <meta property="og:image" content="https://schoolofcities.github.io/canada-election-2025/web-card-cities-suburbs.png"> <meta property="og:locale" content="en_CA"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="https://schoolofcities.github.io/canada-election-2025"> <meta name="twitter:creator" content="@UofTCities"> <meta name="twitter:title" content="Canada Votes 2025: Cities &amp; Suburbs"> <meta name="twitter:description" content="Charting changes in vote share and seats in major Canadian cities and suburbs"> <meta name="twitter:image" content="https://schoolofcities.github.io/canada-election-2025/web-card-cities-suburbs.png">',1),Aa=ie("<!> <!>",1),Sa=ie(`<main><!> <div class="title"><!> <h1>Canada Votes 2025: Cities & Suburbs</h1> <p><a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            April 2025</p></div> <div class="text"><p>Canadians voted, and were left with the greatest consolidation in the two major parties since 1958. In a historic turnaround, the Liberals led by Mark Carney find themselves forming government for the fourth time in a row. The Liberals won <span style="border-bottom: solid 4px #DC4633;">43.7%</span> of the national vote, <span style="border-bottom: solid 4px #DC4633;">up by 11.1%</span> from the last election, for <span style="border-bottom: solid 4px #DC4633;">169 seats</span>. As recently as January, they were polling dangerously close to a wipeout - until former Prime Minister Justin Trudeau resigned, and threats to sovereignty by the United States came to dominate the national political conversation.</p> <p>They were tailed closely by 
            the Conservatives who won <span style="border-bottom: solid 4px #1E3765">41.3%</span>, <span style="border-bottom: solid 4px #1E3765">up by 7.6%</span>, for <span style="border-bottom: solid 4px #1E3765">143 seats</span>. 
            Led by Pierre Poilievre, they capitalized on a <a href="https://abacusdata.ca/2025-federal-election-final-poll-of-campaign/" target="">desire for change</a>, especially winning over voters upset about the cost-of-living crisis, with notable inroads into <a href="https://thelocal.to/young-conservative-right-wing-voters-poilievre-carney/" target="">young voters</a> and <a href="https://theconversation.com/why-are-so-many-second-generation-south-asian-and-chinese-canadians-planning-to-vote-conservative-253820" target="">visible minorities</a>. <span style="border-bottom: solid 4px #EBA00F"></span></p> <p>The left-leaning New Democrats netted just <span style="border-bottom: solid 4px #EBA00F">6.3%</span>, <span style="border-bottom: solid 4px #EBA00F">down by 11.5%</span> from the last election, for <span style="border-bottom: solid 4px #EBA00F">7 seats</span>. This was their worst performance in the party's history. Despite winning progress on national dental care and pharmacare programs from the governing Liberals, some voters flocked away from the party to rally around the Liberals in the wake of threats to sovereignty, while the Conservatives made <a href="https://www.cbc.ca/news/politics/cpc-ndp-working-class-votes-canada-1.7166294" target="">deliberate</a> <a href="https://www.ekospolitics.com/index.php/2025/04/ekos-predicts-liberal-majority/" target="">inroads</a> into its historical working-class base.</p> <p>These were the national trends, but how did all of this play out in Canada cities and suburbs? Below we visualize changes in vote share and total seats in Canada's three largest metros (Vancouver, Toronto, Montreal), and compare between the central cities and the suburbs for each of these regions.</p></div> <div class="container" style="max-width: 850px;"><div class="panel-grid svelte-1qcca2t"><!></div></div> <div class="text"><p>The Conservatives saw clear gains in the suburbs of the Greater Toronto Area - flipping seats in Brampton and Markham. Home to large numbers of South Asian and East Asian Canadians respectively, this is consistent with work affiliated to the School of Cities showing <a href="https://schoolofcities.github.io/gta-immigration/political-shifts" target="">immigrants</a> and <a href="https://www.utsc.utoronto.ca/sociology/utsc-sociologist-breaks-down-surge-south-asian-and-chinese-canadian-support-conservatives" target="">minorities</a> are shifting to the right. The Conservatives also saw large gains in Vancouver's suburbs, accompanied by an NDP collapse - but failed to make a breakthrough.</p> <p>ADD BIT ABOUT CHANGES IN MONTREAL? (only toronto and van noted above)</p> <p>We now turn our attention to other major cities in Canada.</p> <p>Both major parties saw decisive games at the expense of other smaller parties in many cities - but generally, gained less votes in the cities compared to the rest of the country. In Edmonton and Calgary, historically Conservative-voting cities, the Liberals failed to mount a breakthrough, even though their vote share increased.</p> <p>Ottawa and Quebec City were the only two cities where Conservatives lost vote share agains large Liberal gains. MORE ABOUT THIS?</p></div> <div class="container"><div class="panel-grid svelte-1qcca2t"><!></div></div> <br> <br> <div class="footnotes"><h3>Data & Methods</h3> <p>We obtained geographic boundaries for cities and metro regions from the <a href="https://www12.statcan.gc.ca/census-recensement/2021/geo/sip-pis/boundary-limites/index2021-eng.cfm?year=21" target="_blank">2021 Canadian census</a>, using Census Subdivisions (CSDs) for cities and Census Metropolitan Areas (CMAs) for regions. Two exceptions were made: for Toronto, we used the <a href="https://en.wikipedia.org/wiki/List_of_municipalities_in_the_Greater_Toronto_Area" target="_blank">Greater Toronto Area</a> instead of the Toronto CMA because it is more widely recognized, and for Montreal, we used the full island due to its complex municipal borders. We selected 9 cities based on population size and geographic diversity, along with the three most populous metro regions.</p> <p>The <a href="https://osdp-psdo.canada.ca/dp/en/search/metadata/NRCAN-FGP-1-2bf02698-f0aa-4758-a538-a01be833d439" target="_blank">riding boundaries</a> for the 2025 election followed the 2022 Canadian federal electoral redistribution. A riding was assigned to a city or metro region if at least 50% of its geographic area fell within that jurisdiction. Ridings within a metro region but outside its core city – such as one in Brampton in the Greater Toronto Area – were classified as suburban.</p> <p>Vote data for the 2021 election came from Elections Canada’s <a href="https://www.elections.ca/content.aspx?section=res&amp;dir=rep/tra/2023rep&amp;document=index&amp;lang=e" target="_blank">transposed results</a>, while 2025 results were sourced from <a href="https://newsinteractives.cbc.ca/elections/federal/2025/results/" target="_blank">the CBC</a> (also derived from Elections Canada). As of writing, 99% of all results were reporting. We aggregated votes and seat counts for each region by summing the results of its constituent ridings. Vote shares were displayed only for larger parties (the Green Party and People's Party did not register significant results in any region), and seat counts were shown only if a party won at least one seat in either 2021 or 2025.</p> <p>You can find the data <a href="https://github.com/schoolofcities/canada-election-2025/tree/main/static/data/results" target="_blank">here</a>, and all the code in the <a href="https://github.com/schoolofcities/canada-election-2025" target="_blank">GitHub repository</a>.</p></div> <div class="text"><!> <!></div> <br> <br></main>`);function Ha(e,t){ye(t,!0);const n=[["Greater Toronto Area (suburbs only)","Toronto","Sample description text","Sample description text"],["Greater Montreal (suburbs only)","Island of Montreal","Sample description text","Sample description text"],["Metro Vancouver (suburbs only)","Vancouver","Sample description text","Sample description text"]],r=[["Edmonton","Sample description text"],["Calgary","Sample description text"],["Winnipeg","Sample description text"],["Ottawa","Sample description text"],["Quebec City","Sample description text"],["Halifax","Sample description text"]];let a=$e(null),i=$e(null),o=$e(null),l=$e(null);Ln(()=>{fetch("./data/results/votes/region_results.json").then(x=>x.json()).then(x=>F(a,x,!0)),fetch("./data/results/votes/csd_results.json").then(x=>x.json()).then(x=>F(i,x,!0)),fetch("./data/results/seats/region_seat_flips.json").then(x=>x.json()).then(x=>F(o,x,!0)),fetch("./data/results/seats/csd_seat_flips.json").then(x=>x.json()).then(x=>F(l,x,!0))});var c=Sa();Hn(x=>{var P=Na();On.title="Canada Votes 2025: Cities & Suburbs | School of Cities",tt(28),H(x,P)});var s=I(c);Kn(s,{});var d=O(s,2),h=I(d);ka(h,{}),tt(4),T(d);var u=O(d,4),M=I(u),v=I(M);{var R=x=>{var P=De(),S=le(P);Z(S,17,()=>n,J,(g,p)=>{let b=()=>f(p)[0],N=()=>f(p)[1];var E=Aa(),j=le(E);at(j,{get cityName(){return N()},get partyVotes21(){return f(i)[N()]["2021_pct_vote"]},get partyVotes25(){return f(i)[N()]["2025_pct_vote"]},get partySeats(){return f(l)[N()]}});var D=O(j,2);at(D,{get cityName(){return b()},get partyVotes21(){return f(a)[b()]["2021_pct_vote"]},get partyVotes25(){return f(a)[b()]["2025_pct_vote"]},get partySeats(){return f(o)[b()]}}),H(g,E)}),H(x,P)};ve(v,x=>{f(i)&&f(l)&&f(a)&&f(o)&&x(R)})}T(M),T(u);var _=O(u,4);Ne(_,"max-width: 1275px;");var w=I(_),k=I(w);{var C=x=>{var P=De(),S=le(P);Z(S,17,()=>r,J,(g,p)=>{let b=()=>f(p)[0];at(g,{get cityName(){return b()},get partyVotes21(){return f(i)[b()]["2021_pct_vote"]},get partyVotes25(){return f(i)[b()]["2025_pct_vote"]},get partySeats(){return f(l)[b()]}})}),H(x,P)};ve(k,x=>{f(i)&&f(l)&&x(C)})}T(w),T(_);var A=O(_,8),y=I(A);zt(y,{year:2021});var $=O(y,2);zt($,{year:2025}),T(A),tt(4),T(c),H(e,c),be()}export{Ha as component,Oa as universal};
