var fn=Object.defineProperty;var pt=e=>{throw TypeError(e)};var un=(e,t,n)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mt=(e,t,n)=>un(e,typeof t!="symbol"?t+"":t,n),Be=(e,t,n)=>t.has(e)||pt("Cannot "+n);var K=(e,t,n)=>(Be(e,t,"read from private field"),n?n.call(e):t.get(e)),ye=(e,t,n)=>t.has(e)?pt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ue=(e,t,n,r)=>(Be(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(Be(e,t,"access private method"),n);import{b as ee,a as j,n as ve,d as He}from"../chunks/BLicpWzj.js";import{q as Q,v as dn,o as hn,g as u,I as we,w as gn,x as xt,y as Qe,z as Je,D as be,a6 as pn,A as Gt,B as zt,C as mn,aa as Wt,Z as vn,N as B,am as yt,an as Ze,$ as bt,ao as lt,ap as wt,aq as xn,a9 as yn,ar as bn,as as wn,at as ct,au as _n,a2 as Mn,a3 as kn,a0 as Nn,av as Yt,ah as Sn,aw as An,ax as Cn,ay as En,az as Pn,aA as Tn,af as Rn,b as In,p as ze,aB as X,aC as Bt,t as Y,j as We,k as $,m as I,M as q,s as O,i as re,e as Ke,aj as Pe,aD as $n,n as _t}from"../chunks/Cr37FXR5.js";import{s as de,a as Hn}from"../chunks/DqrgIAe1.js";import{p as se,i as pe}from"../chunks/DatUpBCz.js";import{o as Ln}from"../chunks/ze9gUmdU.js";import"../chunks/DXwUrT4N.js";import{i as On}from"../chunks/DfFhyDHI.js";function ae(e,t){return t}function jn(e,t,n,r){for(var a=[],i=t.length,o=0;o<i;o++)xn(t[o].e,a,!0);var s=i>0&&a.length===0&&n!==null;if(s){var c=n.parentNode;yn(c),c.append(n),r.clear(),te(e,t[0].prev,t[i-1].next)}bn(a,()=>{for(var l=0;l<i;l++){var g=t[l];s||(r.delete(g.k),te(e,g.prev,g.next)),wn(g.e,!s)}})}function ie(e,t,n,r,a,i=null){var o=e,s={flags:t,items:new Map,first:null},c=(t&Yt)!==0;if(c){var l=e;o=Q?Qe(kn(l)):l.appendChild(Nn())}Q&&dn();var g=null,d=!1,f=we(()=>{var w=n();return vn(w)?w:w==null?[]:Wt(w)});hn(()=>{var w=u(f),m=w.length;if(d&&m===0)return;d=m===0;let E=!1;if(Q){var A=o.data===gn;A!==(m===0)&&(o=xt(),Qe(o),Je(!1),E=!0)}if(Q){for(var T=null,y,S=0;S<m;S++){if(be.nodeType===8&&be.data===pn){o=be,E=!0,Je(!1);break}var _=w[S],v=r(_,S);y=Ut(be,s,T,null,_,v,S,a,t,n),s.items.set(v,y),T=y}m>0&&Qe(xt())}Q||Vn(w,s,o,a,t,r,n),i!==null&&(m===0?g?Gt(g):g=zt(()=>i(o)):g!==null&&mn(g,()=>{g=null})),E&&Je(!0),u(f)}),Q&&(o=be)}function Vn(e,t,n,r,a,i,o){var C,H,V,D;var s=(a&An)!==0,c=(a&(ct|lt))!==0,l=e.length,g=t.items,d=t.first,f=d,w,m=null,E,A=[],T=[],y,S,_,v;if(s)for(v=0;v<l;v+=1)y=e[v],S=i(y,v),_=g.get(S),_!==void 0&&((C=_.a)==null||C.measure(),(E??(E=new Set)).add(_));for(v=0;v<l;v+=1){if(y=e[v],S=i(y,v),_=g.get(S),_===void 0){var R=f?f.e.nodes_start:n;m=Ut(R,t,m,m===null?t.first:m.next,y,S,v,r,a,o),g.set(S,m),A=[],T=[],f=m.next;continue}if(c&&Fn(_,y,v,a),(_.e.f&Ze)!==0&&(Gt(_.e),s&&((H=_.a)==null||H.unfix(),(E??(E=new Set)).delete(_))),_!==f){if(w!==void 0&&w.has(_)){if(A.length<T.length){var N=T[0],P;m=N.prev;var M=A[0],h=A[A.length-1];for(P=0;P<A.length;P+=1)Mt(A[P],N,n);for(P=0;P<T.length;P+=1)w.delete(T[P]);te(t,M.prev,h.next),te(t,m,M),te(t,h,N),f=N,m=h,v-=1,A=[],T=[]}else w.delete(_),Mt(_,f,n),te(t,_.prev,_.next),te(t,_,m===null?t.first:m.next),te(t,m,_),m=_;continue}for(A=[],T=[];f!==null&&f.k!==S;)(f.e.f&Ze)===0&&(w??(w=new Set)).add(f),T.push(f),f=f.next;if(f===null)continue;_=f}A.push(_),m=_,f=_.next}if(f!==null||w!==void 0){for(var p=w===void 0?[]:Wt(w);f!==null;)(f.e.f&Ze)===0&&p.push(f),f=f.next;var b=p.length;if(b>0){var k=(a&Yt)!==0&&l===0?n:null;if(s){for(v=0;v<b;v+=1)(V=p[v].a)==null||V.measure();for(v=0;v<b;v+=1)(D=p[v].a)==null||D.fix()}jn(t,p,k,g)}}s&&Sn(()=>{var L;if(E!==void 0)for(_ of E)(L=_.a)==null||L.apply()}),bt.first=t.first&&t.first.e,bt.last=m&&m.e}function Fn(e,t,n,r){(r&ct)!==0&&wt(e.v,t),(r&lt)!==0?wt(e.i,n):e.i=n}function Ut(e,t,n,r,a,i,o,s,c,l){var g=(c&ct)!==0,d=(c&_n)===0,f=g?d?B(a):yt(a):a,w=(c&lt)===0?o:yt(o),m={i:w,v:f,k:i,a:null,e:null,prev:n,next:r};try{return m.e=zt(()=>s(e,f,w,l),Q),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?t.first=m:(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function Mt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var o=Mn(i);a.before(i),i=o}}function te(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Dn(e,t){return e==null?null:String(e)}function _e(e,t,n,r){var a=e.__style;if(Q||a!==t){var i=Dn(t);(!Q||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return r}const qn=Symbol("is custom element"),Gn=Symbol("is html");function x(e,t,n,r){var a=zn(e);Q&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=n)&&(t==="loading"&&(e[En]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wn(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function zn(e){return e.__attributes??(e.__attributes={[qn]:e.nodeName.includes("-"),[Gn]:e.namespaceURI===Cn})}var kt=new Map;function Wn(e){var t=kt.get(e.nodeName);if(t)return t;kt.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Tn(r);for(var i in n)n[i].set&&t.push(i);r=Pn(r)}return t}var ne,ge,Se,qe,Qt;const Ge=class Ge{constructor(t){ye(this,qe);ye(this,ne,new WeakMap);ye(this,ge);ye(this,Se);Ue(this,Se,t)}observe(t,n){var r=K(this,ne).get(t)||new Set;return r.add(n),K(this,ne).set(t,r),vt(this,qe,Qt).call(this).observe(t,K(this,Se)),()=>{var a=K(this,ne).get(t);a.delete(n),a.size===0&&(K(this,ne).delete(t),K(this,ge).unobserve(t))}}};ne=new WeakMap,ge=new WeakMap,Se=new WeakMap,qe=new WeakSet,Qt=function(){return K(this,ge)??Ue(this,ge,new ResizeObserver(t=>{for(var n of t){Ge.entries.set(n.target,n);for(var r of K(this,ne).get(n.target)||[])r(n)}}))},mt(Ge,"entries",new WeakMap);let nt=Ge;var Yn=new nt({box:"border-box"});function Bn(e,t,n){var r=Yn.observe(e,()=>n(e[t]));Rn(()=>(In(()=>n(e[t])),r))}const Un=!0,Ca=Object.freeze(Object.defineProperty({__proto__:null,prerender:Un},Symbol.toStringTag,{value:"Module"})),Qn=""+new URL("../assets/top-logo-full.DFUV62OR.svg",import.meta.url).href;var Jn=ee('<div id="bar" class="svelte-149k9m0"><div id="logo" class="svelte-149k9m0"><a href="https://www.schoolofcities.utoronto.ca/" class="svelte-149k9m0"><img alt="School of Cities" class="svelte-149k9m0"></a></div></div>');function Zn(e,t){ze(t,!1);let n=B(),r=B(262);X(()=>u(n),()=>{u(n)<500?q(r,262):q(r,383)}),Bt();var a=Jn(),i=$(a),o=$(i),s=$(o);x(s,"src",Qn),I(o),I(i),I(a),Y(()=>_e(i,`width: ${u(r)??""}px`)),Bn(a,"clientWidth",c=>q(n,c)),j(e,a),We()}function $e(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jt(e){let t,n,r;e.length!==2?(t=$e,n=(s,c)=>$e(e(s),c),r=(s,c)=>e(s)-c):(t=e===$e||e===Kn?e:Xn,n=e,r=e);function a(s,c,l=0,g=s.length){if(l<g){if(t(c,c)!==0)return g;do{const d=l+g>>>1;n(s[d],c)<0?l=d+1:g=d}while(l<g)}return l}function i(s,c,l=0,g=s.length){if(l<g){if(t(c,c)!==0)return g;do{const d=l+g>>>1;n(s[d],c)<=0?l=d+1:g=d}while(l<g)}return l}function o(s,c,l=0,g=s.length){const d=a(s,c,l,g-1);return d>l&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:a,center:o,right:i}}function Xn(){return 0}function er(e){return e===null?NaN:+e}const tr=Jt($e),nr=tr.right;Jt(er).center;class Nt extends Map{constructor(t,n=ir){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(St(this,t))}has(t){return super.has(St(this,t))}set(t,n){return super.set(rr(this,t),n)}delete(t){return super.delete(ar(this,t))}}function St({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ar({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ir(e){return e!==null&&typeof e=="object"?e.valueOf():e}const or=Math.sqrt(50),sr=Math.sqrt(10),lr=Math.sqrt(2);function Le(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=or?10:i>=sr?5:i>=lr?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Le(e,t,n*2):[s,c,l]}function cr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Le(t,e,n):Le(e,t,n);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)c[l]=(i-l)/-o;else for(let l=0;l<s;++l)c[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(a+l)/-o;else for(let l=0;l<s;++l)c[l]=(a+l)*o;return c}function rt(e,t,n){return t=+t,e=+e,n=+n,Le(e,t,n)[2]}function fr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?rt(t,e,n):rt(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ur(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ft(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const At=Symbol("implicit");function Zt(){var e=new Nt,t=[],n=[],r=At;function a(i){let o=e.get(i);if(o===void 0){if(r!==At)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Nt;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Zt(t,n).unknown(r)},ft.apply(a,arguments),a}function Kt(){var e=Zt().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,c=0,l=0,g=.5;delete e.unknown;function d(){var f=t().length,w=a<r,m=w?a:r,E=w?r:a;i=(E-m)/Math.max(1,f-c+l*2),s&&(i=Math.floor(i)),m+=(E-m-i*(f-c))*g,o=i*(1-c),s&&(m=Math.round(m),o=Math.round(o));var A=ur(f).map(function(T){return m+i*T});return n(w?A.reverse():A)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},e.align=function(f){return arguments.length?(g=Math.max(0,Math.min(1,f)),d()):g},e.copy=function(){return Kt(t(),[r,a]).round(s).paddingInner(c).paddingOuter(l).align(g)},ft.apply(d(),arguments)}function Xt(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xt(t())},e}function dr(){return Xt(Kt.apply(null,arguments).paddingInner(1))}function ut(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function en(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ae(){}var Me=.7,Oe=1/Me,he="\\s*([+-]?\\d+)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",J="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hr=/^#([0-9a-f]{3,8})$/,gr=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),pr=new RegExp(`^rgb\\(${J},${J},${J}\\)$`),mr=new RegExp(`^rgba\\(${he},${he},${he},${ke}\\)$`),vr=new RegExp(`^rgba\\(${J},${J},${J},${ke}\\)$`),xr=new RegExp(`^hsl\\(${ke},${J},${J}\\)$`),yr=new RegExp(`^hsla\\(${ke},${J},${J},${ke}\\)$`),Ct={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ut(Ae,Ne,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHex8:br,formatHsl:wr,formatRgb:Pt,toString:Pt});function Et(){return this.rgb().formatHex()}function br(){return this.rgb().formatHex8()}function wr(){return tn(this).formatHsl()}function Pt(){return this.rgb().formatRgb()}function Ne(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tt(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Te(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Te(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gr.exec(e))?new G(t[1],t[2],t[3],1):(t=pr.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mr.exec(e))?Te(t[1],t[2],t[3],t[4]):(t=vr.exec(e))?Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xr.exec(e))?$t(t[1],t[2]/100,t[3]/100,1):(t=yr.exec(e))?$t(t[1],t[2]/100,t[3]/100,t[4]):Ct.hasOwnProperty(e)?Tt(Ct[e]):e==="transparent"?new G(NaN,NaN,NaN,0):null}function Tt(e){return new G(e>>16&255,e>>8&255,e&255,1)}function Te(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function _r(e){return e instanceof Ae||(e=Ne(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function at(e,t,n,r){return arguments.length===1?_r(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ut(G,at,en(Ae,{brighter(e){return e=e==null?Oe:Math.pow(Oe,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Me:Math.pow(Me,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(fe(this.r),fe(this.g),fe(this.b),je(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rt,formatHex:Rt,formatHex8:Mr,formatRgb:It,toString:It}));function Rt(){return`#${le(this.r)}${le(this.g)}${le(this.b)}`}function Mr(){return`#${le(this.r)}${le(this.g)}${le(this.b)}${le((isNaN(this.opacity)?1:this.opacity)*255)}`}function It(){const e=je(this.opacity);return`${e===1?"rgb(":"rgba("}${fe(this.r)}, ${fe(this.g)}, ${fe(this.b)}${e===1?")":`, ${e})`}`}function je(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function le(e){return e=fe(e),(e<16?"0":"")+e.toString(16)}function $t(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new U(e,t,n,r)}function tn(e){if(e instanceof U)return new U(e.h,e.s,e.l,e.opacity);if(e instanceof Ae||(e=Ne(e)),!e)return new U;if(e instanceof U)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new U(o,s,c,e.opacity)}function kr(e,t,n,r){return arguments.length===1?tn(e):new U(e,t,n,r??1)}function U(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ut(U,kr,en(Ae,{brighter(e){return e=e==null?Oe:Math.pow(Oe,e),new U(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Me:Math.pow(Me,e),new U(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new G(Xe(e>=240?e-240:e+120,a,r),Xe(e,a,r),Xe(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new U(Ht(this.h),Re(this.s),Re(this.l),je(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=je(this.opacity);return`${e===1?"hsl(":"hsla("}${Ht(this.h)}, ${Re(this.s)*100}%, ${Re(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ht(e){return e=(e||0)%360,e<0?e+360:e}function Re(e){return Math.max(0,Math.min(1,e||0))}function Xe(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dt=e=>()=>e;function Nr(e,t){return function(n){return e+n*t}}function Sr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ar(e){return(e=+e)==1?nn:function(t,n){return n-t?Sr(t,n,e):dt(isNaN(t)?n:t)}}function nn(e,t){var n=t-e;return n?Nr(e,n):dt(isNaN(e)?t:e)}const Lt=function e(t){var n=Ar(t);function r(a,i){var o=n((a=at(a)).r,(i=at(i)).r),s=n(a.g,i.g),c=n(a.b,i.b),l=nn(a.opacity,i.opacity);return function(g){return a.r=o(g),a.g=s(g),a.b=c(g),a.opacity=l(g),a+""}}return r.gamma=e,r}(1);function Cr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Er(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=ht(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Tr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ve(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Rr(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ht(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var it=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,et=new RegExp(it.source,"g");function Ir(e){return function(){return e}}function $r(e){return function(t){return e(t)+""}}function Hr(e,t){var n=it.lastIndex=et.lastIndex=0,r,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(r=it.exec(e))&&(a=et.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Ve(r,a)})),n=et.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?$r(c[0].x):Ir(t):(t=c.length,function(l){for(var g=0,d;g<t;++g)s[(d=c[g]).i]=d.x(l);return s.join("")})}function ht(e,t){var n=typeof t,r;return t==null||n==="boolean"?dt(t):(n==="number"?Ve:n==="string"?(r=Ne(t))?(t=r,Lt):Hr:t instanceof Ne?Lt:t instanceof Date?Tr:Er(t)?Cr:Array.isArray(t)?Pr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Rr:Ve)(e,t)}function Lr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Or(e){return function(){return e}}function jr(e){return+e}var Ot=[0,1];function ue(e){return e}function ot(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Or(isNaN(t)?NaN:.5)}function Vr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Fr(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=ot(a,r),i=n(o,i)):(r=ot(r,a),i=n(i,o)),function(s){return i(r(s))}}function Dr(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=ot(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var c=nr(e,s,1,r)-1;return i[c](a[c](s))}}function qr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gr(){var e=Ot,t=Ot,n=ht,r,a,i,o=ue,s,c,l;function g(){var f=Math.min(e.length,t.length);return o!==ue&&(o=Vr(e[0],e[f-1])),s=f>2?Dr:Fr,c=l=null,d}function d(f){return f==null||isNaN(f=+f)?i:(c||(c=s(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(a((l||(l=s(t,e.map(r),Ve)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,jr),g()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),g()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Lr,g()},d.clamp=function(f){return arguments.length?(o=f?!0:ue,g()):o!==ue},d.interpolate=function(f){return arguments.length?(n=f,g()):n},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,w){return r=f,a=w,g()}}function zr(){return Gr()(ue,ue)}function Wr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fe(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function me(e){return e=Fe(Math.abs(e)),e?e[1]:NaN}function Yr(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),i.push(n.substring(a-=s,a+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Br(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ur=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function De(e){if(!(t=Ur.exec(e)))throw new Error("invalid format: "+e);var t;return new gt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}De.prototype=gt.prototype;function gt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qr(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var rn;function Jr(e,t){var n=Fe(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(rn=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Fe(e,Math.max(0,t+i-1))[0]}function jt(e,t){var n=Fe(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Vt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jt(e*100,t),r:jt,s:Jr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ft(e){return e}var Dt=Array.prototype.map,qt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zr(e){var t=e.grouping===void 0||e.thousands===void 0?Ft:Yr(Dt.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ft:Br(Dt.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=De(d);var f=d.fill,w=d.align,m=d.sign,E=d.symbol,A=d.zero,T=d.width,y=d.comma,S=d.precision,_=d.trim,v=d.type;v==="n"?(y=!0,v="g"):Vt[v]||(S===void 0&&(S=12),_=!0,v="g"),(A||f==="0"&&w==="=")&&(A=!0,f="0",w="=");var R=E==="$"?n:E==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",N=E==="$"?r:/[%p]/.test(v)?o:"",P=Vt[v],M=/[defgprs%]/.test(v);S=S===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function h(p){var b=R,k=N,C,H,V;if(v==="c")k=P(p)+k,p="";else{p=+p;var D=p<0||1/p<0;if(p=isNaN(p)?c:P(Math.abs(p),S),_&&(p=Qr(p)),D&&+p==0&&m!=="+"&&(D=!1),b=(D?m==="("?m:s:m==="-"||m==="("?"":m)+b,k=(v==="s"?qt[8+rn/3]:"")+k+(D&&m==="("?")":""),M){for(C=-1,H=p.length;++C<H;)if(V=p.charCodeAt(C),48>V||V>57){k=(V===46?a+p.slice(C+1):p.slice(C))+k,p=p.slice(0,C);break}}}y&&!A&&(p=t(p,1/0));var L=b.length+p.length+k.length,F=L<T?new Array(T-L+1).join(f):"";switch(y&&A&&(p=t(F+p,F.length?T-k.length:1/0),F=""),w){case"<":p=b+p+k+F;break;case"=":p=b+F+p+k;break;case"^":p=F.slice(0,L=F.length>>1)+b+p+k+F.slice(L);break;default:p=F+b+p+k;break}return i(p)}return h.toString=function(){return d+""},h}function g(d,f){var w=l((d=De(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(me(f)/3)))*3,E=Math.pow(10,-m),A=qt[8+m/3];return function(T){return w(E*T)+A}}return{format:l,formatPrefix:g}}var Ie,an,on;Kr({thousands:",",grouping:[3],currency:["$",""]});function Kr(e){return Ie=Zr(e),an=Ie.format,on=Ie.formatPrefix,Ie}function Xr(e){return Math.max(0,-me(Math.abs(e)))}function ea(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(me(t)/3)))*3-me(Math.abs(e)))}function ta(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,me(t)-me(e))+1}function na(e,t,n,r){var a=fr(e,t,n),i;switch(r=De(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=ea(a,o))&&(r.precision=i),on(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ta(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Xr(a))&&(r.precision=i-(r.type==="%")*2);break}}return an(r)}function ra(e){var t=e.domain;return e.ticks=function(n){var r=t();return cr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return na(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],c,l,g=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);g-- >0;){if(l=rt(o,s,n),l===c)return r[a]=o,r[i]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function sn(){var e=zr();return e.copy=function(){return qr(e,sn())},ft.apply(e,arguments),ra(e)}const st=["lib","con","ndp","bloc","grn","ppc","oth"],ce={lib:"#DC4633",con:"#1E3765",ndp:"#EBA00F",bloc:"#6FC7EA",grn:"#00A189",ppc:"#6D247A",oth:"#D3D3D3"},ln={lib:"LIB",con:"CON",ndp:"NDP",bloc:"BQ",grn:"GRN",ppc:"PPL",oth:"Other"};var aa=ve('<line stroke="#ececec" stroke-width="1"></line>'),ia=ve('<line stroke-width="1.5"></line><circle></circle><circle></circle>',1),oa=ve('<text class="party-label svelte-wmhrod" font-size="14px" font-weight="bold" dominant-baseline="middle"> </text>'),sa=ee('<div class="slope-graph svelte-wmhrod"><svg class="slope-svg svelte-wmhrod"><g transform="translate(0,0)"><line stroke="black" stroke-width="1"></line><text class="year-label svelte-wmhrod" text-anchor="start" font-size="13px">2021</text><text class="year-label svelte-wmhrod" text-anchor="end" font-size="13px">2025</text><!><!><!></g></svg></div>');function la(e,t){ze(t,!0);let n=se(t,"partyDisplay",19,()=>({lib:!0,con:!0,ndp:!0,bloc:!1,grn:!1,ppc:!1,oth:!1}));const r=220,a=180,i={top:10,right:100,bottom:30,left:10},o=r-i.left-i.right,s=a-i.top-i.bottom,c=dr().domain(["2021","2025"]).range([0,o]).padding(0),l=sn().domain([0,70]).range([s,0]);function g(){let N=st.filter(h=>n()[h]).map(h=>({party:h,y:l(t.partyVotes25[h]),text:`${ln[h]} ${(Math.round(t.partyVotes25[h]*10)/10).toFixed(1)}%`}));N.sort((h,p)=>h.y-p.y);let P=[],M=[N[0]];for(let h=1;h<N.length;h++){M[M.length-1];const p=N[h];M.some(k=>Math.abs(p.y-k.y)<20)?M.push(p):(P.push(M),M=[p])}P.push(M);for(const h of P){if(h.length<=1)continue;const p=(20*h.length-5)/2,b=h[h.length-1].y-h[0].y;if(p>b){const k=p-b,C=h[0].y-k/2,H=h[h.length-1].y+k/2,V=Math.max(0,C),D=Math.min(s,H),L=Math.min(C,V),Z=(Math.max(H,D)-L-b+b)/(h.length-1);for(let W=0;W<h.length;W++)h[W].y=L+W*Z}}return N}const d=g();var f=sa();_e(f,"width: 220px; height: 180px;");var w=$(f);x(w,"width",r),x(w,"height",a);var m=$(w),E=$(m);x(E,"y1",s),x(E,"y2",s);var A=O(E),T=O(A),y=O(T);ie(y,16,()=>[10,20,30,40,50,60],ae,(v,R)=>{var N=aa();Y((P,M,h,p)=>{x(N,"x1",P),x(N,"y1",M),x(N,"x2",h),x(N,"y2",p)},[()=>c("2021"),()=>l(R),()=>c("2025"),()=>l(R)]),j(v,N)});var S=O(y);ie(S,17,()=>st,ae,(v,R)=>{var N=He(),P=re(N);{var M=h=>{var p=ia(),b=re(p),k=O(b);x(k,"r",4);var C=O(k);x(C,"r",4),Y((H,V,D,L,F,z,Z,W)=>{x(b,"x1",H),x(b,"y1",V),x(b,"x2",D),x(b,"y2",L),x(b,"stroke",ce[u(R)]),x(k,"cx",F),x(k,"cy",z),x(k,"fill",ce[u(R)]),x(C,"cx",Z),x(C,"cy",W),x(C,"fill",ce[u(R)])},[()=>c("2021"),()=>l(t.partyVotes21[u(R)]),()=>c("2025"),()=>l(t.partyVotes25[u(R)]),()=>c("2021"),()=>l(t.partyVotes21[u(R)]),()=>c("2025"),()=>l(t.partyVotes25[u(R)])]),j(h,p)};pe(P,h=>{n()[u(R)]&&h(M)})}j(v,N)});var _=O(S);ie(_,17,()=>d,ae,(v,R)=>{let N=()=>u(R).party,P=()=>u(R).y,M=()=>u(R).text;var h=oa(),p=$(h,!0);I(h),Y(b=>{x(h,"x",b),x(h,"y",P()),x(h,"fill",ce[N()]),de(p,M())},[()=>c("2025")+10]),j(v,h)}),I(m),I(w),I(f),Y((v,R,N,P)=>{x(E,"x1",v),x(E,"x2",R),x(A,"x",N),x(A,"y",s+i.bottom/2),x(T,"x",P),x(T,"y",s+i.bottom/2)},[()=>c("2021"),()=>c("2025"),()=>c("2021"),()=>c("2025")]),j(e,f),We()}var ca=ve("<line></line>"),fa=ve("<rect></rect><g><defs><clipPath><rect></rect></clipPath></defs><g></g></g>",1),ua=ve("<rect></rect><!>",1),da=ee('<div class="party-total svelte-14dqd7w"><span class="party-color-box svelte-14dqd7w"><span class="party-color svelte-14dqd7w"></span></span> <span class="party-number svelte-14dqd7w"> </span> <span class="party-number-change svelte-14dqd7w"> </span> <span class="party-name svelte-14dqd7w"> </span></div>'),ha=ee('<div class="waffle-container svelte-14dqd7w"><div class="waffle-graph svelte-14dqd7w"><svg class="waffle-svg svelte-14dqd7w"></svg></div> <div class="party-totals svelte-14dqd7w"></div></div>');function ga(e,t){ze(t,!1);const n=B(),r=B(),a=B(),i=B(),o=B(),s=B(),c=B();let l=se(t,"partySeats",24,()=>[{prevParty:"lib",curParty:"lib",isFlipped:!1},{prevParty:"lib",curParty:"lib",isFlipped:!1},{prevParty:"con",curParty:"lib",isFlipped:!0},{prevParty:"ndp",curParty:"lib",isFlipped:!0},{prevParty:"con",curParty:"con",isFlipped:!1},{prevParty:"ndp",curParty:"ndp",isFlipped:!1}]);const g=16,d=1,f=6,w=.8,m=2,E=6,A=.5,T=g*w,y=(g-T)/2,S=_(g);function _(M){const h=Math.ceil(M*1.5/E),p=[];for(let b=-1;b<=h;b++){const k=b*E;p.push({x1:k-M,y1:0,x2:k,y2:M})}return p}X(()=>Ke(l()),()=>{q(n,l().length)}),X(()=>u(n),()=>{q(r,Math.ceil(u(n)/f))}),X(()=>{},()=>{q(a,f*(g+d)+d)}),X(()=>u(r),()=>{q(i,u(r)*(g+d)+d)}),X(()=>Ke(l()),()=>{q(o,st.map(M=>{const h=l().filter(C=>C.curParty===M&&C.isFlipped).length,p=l().filter(C=>C.prevParty===M&&C.isFlipped).length,b=h-p;let k;return b>0?k="+":b<0?k="–":k="",{party:M,total:l().filter(C=>C.curParty===M).length,gained:h,lost:p,net:b,sign:k}}))}),X(()=>u(o),()=>{u(o).sort((M,h)=>M.total<h.total)}),X(()=>(Ke(l()),u(o)),()=>{q(s,[...l()].sort((M,h)=>{var k,C;const p=((k=u(o).find(H=>H.party===M.curParty))==null?void 0:k.total)||0,b=((C=u(o).find(H=>H.party===h.curParty))==null?void 0:C.total)||0;return p!==b?b-p:M.curParty!==h.curParty?M.curParty.localeCompare(h.curParty):(M.isFlipped?1:0)-(h.isFlipped?1:0)}))}),X(()=>(u(n),u(r),u(s)),()=>{q(c,Array.from({length:u(n)},(M,h)=>{const p=u(n)-1-h,b=u(r)-1-Math.floor(p/f);return{x:p%f*(g+d)+d,y:b*(g+d)+d,seat:u(s)[p],index:h}}))}),Bt(),On();var v=ha(),R=$(v),N=$(R);ie(N,5,()=>u(c),ae,(M,h)=>{var p=ua();const b=we(()=>u(h).seat),k=we(()=>ce[u(b).curParty]),C=we(()=>ce[u(b).prevParty]);var H=re(p);x(H,"width",g),x(H,"height",g);var V=O(H);{var D=L=>{var F=fa(),z=re(F);x(z,"width",T),x(z,"height",T);var Z=O(z),W=$(Z),xe=$(W),Ce=$(xe);x(Ce,"width",g),x(Ce,"height",g),I(xe),I(W);var Ye=O(W);ie(Ye,5,()=>S,ae,(cn,Ee)=>{var oe=ca();x(oe,"stroke-width",m),Y(()=>{x(oe,"x1",u(Ee).x1-A),x(oe,"y1",u(Ee).y1-A),x(oe,"x2",u(Ee).x2-A),x(oe,"y2",u(Ee).y2-A),x(oe,"stroke",u(k))}),j(cn,oe)}),I(Ye),I(Z),Y(()=>{x(z,"x",u(h).x+y),x(z,"y",u(h).y+y),x(z,"fill",u(C)),x(Z,"transform",`translate(${u(h).x},${u(h).y})`),x(xe,"id",`clip-${u(h).index}`),x(Ye,"clip-path",`url(#clip-${u(h).index})`)}),j(L,F)};pe(V,L=>{u(b).isFlipped&&L(D)})}Y(()=>{x(H,"x",u(h).x),x(H,"y",u(h).y),x(H,"fill",u(k))}),j(M,p)}),I(N),I(R);var P=O(R,2);ie(P,5,()=>u(o),ae,(M,h)=>{var p=He(),b=re(p);{var k=C=>{var H=da(),V=$(H),D=$(V);I(V);var L=O(V,2),F=$(L,!0);I(L);var z=O(L,2),Z=$(z);I(z);var W=O(z,2),xe=$(W,!0);I(W),I(H),Y(Ce=>{_e(D,`background-color: ${ce[u(h).party]??""};`),de(F,u(h).total),de(Z,`(${u(h).sign??""}${Ce??""})`),de(xe,ln[u(h).party])},[()=>Math.abs(u(h).net)],we),j(C,H)};pe(b,C=>{(u(h).total>0||u(h).net!==0)&&C(k)})}j(M,p)}),I(P),I(v),Y(()=>{x(N,"width",u(a)),x(N,"height",u(i)),_e(P,`max-width: ${u(a)??""}px`)}),j(e,v),We()}var pa=ee('<p class="svelte-1kwvpnh"> </p>'),ma=ee('<div class="results-panel svelte-1kwvpnh"><div class="panel-header svelte-1kwvpnh"><h4 class="svelte-1kwvpnh"> </h4> <!></div> <div class="graphs-container svelte-1kwvpnh"><!> <!></div></div>');function tt(e,t){let n=se(t,"cityName",8),r=se(t,"text",8),a=se(t,"partyVotes21",8),i=se(t,"partyVotes25",8),o=se(t,"partySeats",8);const s=["Greater Montreal","Greater Montreal (suburbs only)","Island of Montreal","Quebec City"];let c=B({lib:!0,con:!0,ndp:!0,bloc:!1,grn:!1,ppc:!1,oth:!1});s.includes(n())&&q(c,{lib:!0,con:!0,ndp:!0,bloc:!0,grn:!1,ppc:!1,oth:!1});var l=ma(),g=$(l),d=$(g),f=$(d,!0);I(d);var w=O(d,2);{var m=y=>{var S=pa(),_=$(S,!0);I(S),Y(()=>de(_,r())),j(y,S)};pe(w,y=>{r()&&y(m)})}I(g);var E=O(g,2),A=$(E);la(A,{get partyVotes21(){return a()},get partyVotes25(){return i()},get partyDisplay(){return u(c)}});var T=O(A,2);ga(T,{get partySeats(){return o()}}),I(E),I(l),Y(()=>de(f,n())),j(e,l)}var va=ee('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"> <meta name="description" content=""> <meta name="author" content="Aniket Kali, Jeff Allen"> <meta property="og:title" content="Canada Votes 2025: Cities &amp; Suburbs"> <meta property="og:description" content="Charting changes in vote share and seats in major Canadian cities and suburbs"> <meta property="og:type" content="website"> <meta property="og:url" content="https://schoolofcities.github.io/canada-election-2025"> <meta property="og:image" content="https://schoolofcities.github.io/canada-election-2025/web-card-cities-suburbs.png"> <meta property="og:locale" content="en_CA"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="https://schoolofcities.github.io/canada-election-2025"> <meta name="twitter:creator" content="@UofTCities"> <meta name="twitter:title" content="Canada Votes 2025: Cities &amp; Suburbs"> <meta name="twitter:description" content="Charting changes in vote share and seats in major Canadian cities and suburbs"> <meta name="twitter:image" content="https://schoolofcities.github.io/canada-election-2025/web-card-cities-suburbs.png">',1),xa=ee("<!> <!>",1),ya=ee(`<main><!> <div class="title"><h1>Canada Votes 2025: Cities & Suburbs</h1> <p><a href="https://www.linkedin.com/in/aniket-k-8a8b9921b/" target="_blank">Aniket Kali</a>, <a href="https://jamaps.github.io/" target="_blank">Jeff Allen</a> |
            April 2025</p></div> <div class="text"><p>Canadians voted, and were left with the greatest consolidation in the two major parties since 1958. In a historic turnaround, the Liberals led by Mark Carney find themselves forming government for the fourth time in a row. As recently as January, they were polling dangerously close to a wipeout - until former Prime Minister Justin Trudeau resigned, and threats to sovereignty by the United States came to dominate the national political conversation.</p> <p><span style="background-color: #f58085">The Liberals won 43.7% of the national vote, up 11.1% from the last election, for 169 seats</span>. 
            They were tailed closely by <span style="background-color: #5d86d2">the Conservatives who won 41.3%, up by 7.6%, for 143 seats</span>. 
            Led by Pierre Poilievre, they capitalized on a <a href="https://abacusdata.ca/2025-federal-election-final-poll-of-campaign/" target="">desire for change</a>, especially winning over voters upset about the cost-of-living crisis, with notable inroads into <a href="https://thelocal.to/young-conservative-right-wing-voters-poilievre-carney/" target="">young voters</a> and <a href="https://theconversation.com/why-are-so-many-second-generation-south-asian-and-chinese-canadians-planning-to-vote-conservative-253820" target="">visible minorities</a>.</p> <p><span style="background-color: #ffbe78">The left-leaning New Democrats netted just 6.3%, down 11.5% from the last election, for 7 seats</span>. 
            This was their worst performance in the party's history. Despite winning progress on national dental care and pharmacare programs from the governing Liberals, some voters flocked away from the party to rally around the Liberals in the wake of threats to sovereignty, while the Conservatives made <a href="https://www.cbc.ca/news/politics/cpc-ndp-working-class-votes-canada-1.7166294" target="">deliberate</a> <a href="https://www.ekospolitics.com/index.php/2025/04/ekos-predicts-liberal-majority/" target="">inroads</a> into its historical working-class base.</p> <p>How did all of this play out in Canada cities and suburbs? We first visualize how changes in votes and seats in Canada's three largest metros (Vancouver, Toronto, Montreal) compare between the central cities and the suburbs for each of these regions.</p> <p>The Conservatives saw clear gains in the suburbs of the Greater Toronto Area - flipping seats in Brampton and Markham. Home to large numbers of South Asian and East Asian Canadians respectively, this is consistent with work affiliated to the School of Cities showing <a href="https://schoolofcities.github.io/gta-immigration/political-shifts" target="">immigrants</a> and <a href="https://www.utsc.utoronto.ca/sociology/utsc-sociologist-breaks-down-surge-south-asian-and-chinese-canadian-support-conservatives" target="">minorities</a> are shifting to the right. The Conservatives also saw large gains in Vancouver's suburbs, accompanied by an NDP collapse - but failed to make a breakthrough.</p></div> <div class="container" style="max-width: 850px;"><div class="panel-grid svelte-17d0ktf"><!></div></div> <div class="text"><p>We now turn our attention to other major cities in Canada.</p> <p>Across the board, both major parties saw decisive games at the expense of other smaller parties in many cities - but generally, gained less votes in the cities compared to the rest of the country. In Edmonton and Calgary, historically Conservative-voting cities, the Liberals failed to mount a breakthrough. Notable exceptions however came in Ottawa and Quebec City, where the Conservatives lost votes against large Liberal gains.</p></div> <div class="container"><div class="panel-grid svelte-17d0ktf"><!></div></div> <br> <br> <div class="footnotes"><h3>Data & Methods</h3> <p>We obtained geographic boundaries for cities and metro regions from the <a href="https://www12.statcan.gc.ca/census-recensement/2021/geo/sip-pis/boundary-limites/index2021-eng.cfm?year=21" target="_blank">2021 Canadian census</a>, using Census Subdivisions (CSDs) for cities and Census Metropolitan Areas (CMAs) for regions. Two exceptions were made: for Toronto, we used the <a href="https://en.wikipedia.org/wiki/List_of_municipalities_in_the_Greater_Toronto_Area" target="_blank">Greater Toronto Area</a> instead of the Toronto CMA because it is more widely recognized, and for Montreal, we used the full island due to its complex municipal borders. We selected 9 cities based on population size and geographic diversity, along with the three most populous metro regions.</p> <p>The <a href="https://osdp-psdo.canada.ca/dp/en/search/metadata/NRCAN-FGP-1-2bf02698-f0aa-4758-a538-a01be833d439" target="_blank">riding boundaries</a> for the 2025 election followed the 2022 Canadian federal electoral redistribution. A riding was assigned to a city or metro region if at least 50% of its geographic area fell within that jurisdiction. Ridings within a metro region but outside its core city – such as one in Brampton in the Greater Toronto Area – were classified as suburban.</p> <p>Vote data for the 2021 election came from Elections Canada’s <a href="https://www.elections.ca/content.aspx?section=res&amp;dir=rep/tra/2023rep&amp;document=index&amp;lang=e" target="_blank">transposed results</a>, while 2025 results were sourced from <a href="https://newsinteractives.cbc.ca/elections/federal/2025/results/" target="_blank">the CBC</a> (also derived from Elections Canada). As of writing, 99% of all results were reporting. We aggregated votes and seat counts for each region by summing the results of its constituent ridings. Vote shares were displayed only for larger parties (the Green Party and People's Party did not register significant results in any region), and seat counts were shown only if a party won at least one seat in either 2021 or 2025.</p> <p>You can find the data <a href="https://github.com/schoolofcities/canada-election-2025/tree/main/static/data/results" target="_blank">here</a>, and all the code in the <a href="https://github.com/schoolofcities/canada-election-2025" target="_blank">GitHub repository</a>.</p></div></main>`);function Ea(e,t){ze(t,!0);const n=[["Greater Toronto Area (suburbs only)","Toronto","Sample description text","Sample description text"],["Greater Montreal (suburbs only)","Island of Montreal","Sample description text","Sample description text"],["Metro Vancouver (suburbs only)","Vancouver","Sample description text","Sample description text"]],r=[["Edmonton","Sample description text"],["Calgary","Sample description text"],["Winnipeg","Sample description text"],["Ottawa","Sample description text"],["Quebec City","Sample description text"],["Halifax","Sample description text"]];let a=Pe(null),i=Pe(null),o=Pe(null),s=Pe(null);Ln(()=>{fetch("./data/results/votes/region_results.json").then(y=>y.json()).then(y=>q(a,y,!0)),fetch("./data/results/votes/csd_results.json").then(y=>y.json()).then(y=>q(i,y,!0)),fetch("./data/results/seats/region_seat_flips.json").then(y=>y.json()).then(y=>q(o,y,!0)),fetch("./data/results/seats/csd_seat_flips.json").then(y=>y.json()).then(y=>q(s,y,!0))});var c=ya();Hn(y=>{var S=va();$n.title="Canada Votes 2025: Cities & Suburbs | School of Cities",_t(28),j(y,S)});var l=$(c);Zn(l,{});var g=O(l,6),d=$(g),f=$(d);{var w=y=>{var S=He(),_=re(S);ie(_,17,()=>n,ae,(v,R)=>{let N=()=>u(R)[0],P=()=>u(R)[1];var M=xa(),h=re(M);tt(h,{get cityName(){return P()},get partyVotes21(){return u(i)[P()]["2021_pct_vote"]},get partyVotes25(){return u(i)[P()]["2025_pct_vote"]},get partySeats(){return u(s)[P()]}});var p=O(h,2);tt(p,{get cityName(){return N()},get partyVotes21(){return u(a)[N()]["2021_pct_vote"]},get partyVotes25(){return u(a)[N()]["2025_pct_vote"]},get partySeats(){return u(o)[N()]}}),j(v,M)}),j(y,S)};pe(f,y=>{u(i)&&u(s)&&u(a)&&u(o)&&y(w)})}I(d),I(g);var m=O(g,4);_e(m,"max-width: 1275px;");var E=$(m),A=$(E);{var T=y=>{var S=He(),_=re(S);ie(_,17,()=>r,ae,(v,R)=>{let N=()=>u(R)[0];tt(v,{get cityName(){return N()},get partyVotes21(){return u(i)[N()]["2021_pct_vote"]},get partyVotes25(){return u(i)[N()]["2025_pct_vote"]},get partySeats(){return u(s)[N()]}})}),j(y,S)};pe(A,y=>{u(i)&&u(s)&&y(T)})}I(E),I(m),_t(6),I(c),j(e,c),We()}export{Ea as component,Ca as universal};
